{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  if (!gallery) return;\n  \n  const insertion = images\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n       <figure class=\"gallery-figure\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      alt=\"${image.tags}\"\n    />\n  </a>\n   <figcaption class=\"gallery-info\">\n      <ul class=\"gallery-stats\">\n        <li class='stats-item'><span class='social-info'>Likes</span> <span>${image.likes}</span> </li>\n        <li class='stats-item'><span class='social-info'>Views</span> <span>${image.views}</span></li>\n        <li class='stats-item'><span class='social-info'>Comments</span> <span>${image.comments}</span></li>\n        <li class='stats-item'><span class='social-info'>Downloads</span> <span>${image.downloads}</span></li>\n      </ul>\n    </figcaption>\n   </figure>\n</li>`\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', insertion);\n  lightbox.refresh();\n}  \n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  if (!gallery) return;\n  gallery.innerHTML = '';\n  lightbox.refresh();\n}\n\n\nexport function showLoader() {\n  const load = document.querySelector('.load');\n  load.hidden = false;\n  load.classList.add('loader');\n}\n\nexport function hideLoader() {\n  const load = document.querySelector('.load');\n  load.hidden = true;\n  load.classList.remove('loader');\n}\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '52758797-16c779dc2baa00e6d4d028fc2';\n\nexport function getImagesByQuery(query) {\n  const paramsOfSearch = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  return axios\n    .get(`${BASE_URL}`, {\n      params: paramsOfSearch,\n    })\n    .then(response => {\n      return response;\n    })\n    .catch(error => {\n     return error;\n    })\n}","import {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconOctagon from './img/bi_x-octagon.svg';\nconst container = document.querySelector('.container');\nconst formSearch = document.querySelector('.form');\nconst formText = document.querySelector('.form-text');\nlet formTextValue = '';\n\nformSearch.addEventListener('submit', event => {\n  event.preventDefault();\n  showLoader();\n  formTextValue = formText.value.trim().toLowerCase();\n  clearGallery();\n\n  if (!formTextValue) {\n    return;\n  }\n  getImagesByQuery(formTextValue)\n    .then(response => {\n      if (response.data.hits.length === 0) {\n        return iziToast.warning({\n          backgroundColor: '#EF4040',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#FAFAFB',\n          iconUrl: iconOctagongit,\n          closeOnEscape: true,\n        });\n      }\n      const images = response.data.hits;\n\n      createGallery(images);\n    })\n    .catch(error => {\n      console.error('Виникла помилка:', error);\n    })\n    .finally(hideLoader);\n\n  formText.value = '';\n});\n"],"names":["lightbox","SimpleLightbox","createGallery","images","gallery","insertion","image","clearGallery","showLoader","load","hideLoader","BASE_URL","API_KEY","getImagesByQuery","query","paramsOfSearch","axios","response","error","formSearch","formText","formTextValue","event","iziToast"],"mappings":"owBAGA,MAAMA,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,GAAI,CAACA,EAAS,OAEd,MAAMC,EAAYF,EACf,IACCG,GACE;AAAA;AAAA,kCAE0BA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8EAKuDA,EAAM,KAAK;AAAA,8EACXA,EAAM,KAAK;AAAA,iFACRA,EAAM,QAAQ;AAAA,kFACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,MAK5F,EACA,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAS,EACjDL,EAAS,QAAO,CAClB,CAEO,SAASO,GAAe,CAC7B,MAAMH,EAAU,SAAS,cAAc,UAAU,EAC5CA,IACLA,EAAQ,UAAY,GACpBJ,EAAS,QAAO,EAClB,CAGO,SAASQ,GAAa,CAC3B,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,OAAS,GACdA,EAAK,UAAU,IAAI,QAAQ,CAC7B,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,OAAS,GACdA,EAAK,UAAU,OAAO,QAAQ,CAChC,CCzDA,MAAME,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAiB,CACrB,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,OAAOE,EACJ,IAAI,GAAGL,CAAQ,GAAI,CAClB,OAAQI,CACd,CAAK,EACA,KAAKE,GACGA,CACR,EACA,MAAMC,GACCA,CACP,CACL,CCdkB,SAAS,cAAc,YAAY,EACrD,MAAMC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAW,SAAS,cAAc,YAAY,EACpD,IAAIC,EAAgB,GAEpBF,EAAW,iBAAiB,SAAUG,GAAS,CAC7CA,EAAM,eAAc,EACpBd,IACAa,EAAgBD,EAAS,MAAM,KAAM,EAAC,YAAW,EACjDb,IAEKc,IAGLR,EAAiBQ,CAAa,EAC3B,KAAKJ,GAAY,CAChB,GAAIA,EAAS,KAAK,KAAK,SAAW,EAChC,OAAOM,EAAS,QAAQ,CACtB,gBAAiB,UACjB,QACE,2EACF,aAAc,UACd,QAAS,eACT,cAAe,EACzB,CAAS,EAEH,MAAMpB,EAASc,EAAS,KAAK,KAE7Bf,EAAcC,CAAM,CAC1B,CAAK,EACA,MAAMe,GAAS,CACd,QAAQ,MAAM,mBAAoBA,CAAK,CAC7C,CAAK,EACA,QAAQR,CAAU,EAErBU,EAAS,MAAQ,GACnB,CAAC"}